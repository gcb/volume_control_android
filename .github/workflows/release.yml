
name: push
run-name: "${{ github.actor }} pushed on a branch: ${{ github.event.head_commit.message }}"

on: [push]
jobs:
  Gradle:
    runs-on: ubuntu-latest
    steps:
      - name: checkout code
        uses: actions/checkout@v4
      - name: setup jdk
        uses: actions/setup-java@v1
        with:
          java-version: 17
      - name: Setup Gradle
        uses: gradle/actions/setup-gradle@v3
        with:
          dependency-graph: generate
          # ^  [disabled, generate, generate-and-submit, generate-and-upload, download-and-submit, clear]. The default value is 'disabled'.
          # submit to where? upload to where?
          #validate-wrappers: true
          # ^ fails if missing in repo but using valid from system path :/
          build-scan-publish: true
          build-scan-terms-of-use-url: "https://gradle.com/terms-of-service"
          build-scan-terms-of-use-agree: "yes"
      - name: Run build
        run: gradle build -x test #--debug --stacktrace
      - name: lint logs
        run: cat '/home/runner/work/volume_control_android/volume_control_android/app/build/intermediates/lint_intermediate_text_report/debug/lintReportDebug/lint-results-debug.txt'
